import{Aa as g,Ba as A,Ca as n,Ea as R,Ga as p,I as h,Z as l,g as u,j as f,oa as d,r as o,xa as C,za as v}from"./chunk-WCMMSXJ3.js";var x=()=>{let t=o(p),e=o(n);return t.isAuthenticated()?!0:(e.navigate(["/login"]),!1)},a=()=>{let t=o(p),e=o(n);return t.isAuthenticated()?(e.navigate(["/chat"]),!1):!0};var F=[{path:"",redirectTo:"chat",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-TKC6A26K.js").then(t=>t.LoginComponent),canActivate:[a]},{path:"register",loadComponent:()=>import("./chunk-AA57GJ4J.js").then(t=>t.RegisterComponent),canActivate:[a]},{path:"chat",loadComponent:()=>import("./chunk-FVOKZG5U.js").then(t=>t.ChatLayoutComponent),canActivate:[x]},{path:"**",redirectTo:"chat"}];var H=(t,e)=>{let r=o(p),c=o(n),m=r.getToken();return m&&(t=t.clone({setHeaders:{Authorization:`Bearer ${m}`}})),e(t).pipe(f(s=>(s.status===401&&(r.logout(),c.navigate(["/login"])),u(()=>s))))};var I={providers:[d({eventCoalescing:!0}),R(F),v(g([H]))]};var i=class t{title="clone-whatsapp-web";static \u0275fac=function(r){return new(r||t)};static \u0275cmp=h({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,c){r&1&&l(0,"router-outlet")},dependencies:[A],encapsulation:2})};C(i,I).catch(t=>console.error(t));
