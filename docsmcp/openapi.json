{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/database/connect":{"post":{"summary":"Database Connect","description":"Se conecta a una base de datos MySQL.\nAlmacena la configuración para futuras operaciones como backup.","operationId":"database_connect_database_connect_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectionParams"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/database/close_connection":{"post":{"summary":"Database Close Connection","description":"Cierra la conexión actual a la base de datos.","operationId":"database_close_connection_database_close_connection_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/database/list_tables":{"get":{"summary":"Database List Tables","description":"Devuelve una lista con los nombres de las tablas de la base de datos actual.","operationId":"database_list_tables_database_list_tables_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/database/describe_table":{"post":{"summary":"Database Describe Table","description":"Devuelve la estructura (columnas) de una tabla específica.","operationId":"database_describe_table_database_describe_table_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableParams"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/database/execute_query":{"post":{"summary":"Database Execute Query","description":"Ejecuta una consulta SQL (SELECT, INSERT, CREATE, etc.) en la base de datos.","operationId":"database_execute_query_database_execute_query_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryParams"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/database/backup":{"post":{"summary":"Database Backup","description":"Crea un backup de la base de datos actual usando mysqldump.","operationId":"database_backup_database_backup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupParams"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/database/restore":{"post":{"summary":"Database Restore","description":"Restaura la base de datos desde un archivo .sql. ¡ADVERTENCIA: Operación destructiva!","operationId":"database_restore_database_restore_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RestoreParams"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"BackupParams":{"properties":{"output_file":{"type":"string","title":"Output File"}},"type":"object","required":["output_file"],"title":"BackupParams"},"ConnectionParams":{"properties":{"host":{"type":"string","title":"Host"},"user":{"type":"string","title":"User"},"password":{"type":"string","title":"Password"},"database":{"type":"string","title":"Database"},"port":{"type":"integer","title":"Port","default":3306}},"type":"object","required":["host","user","password","database"],"title":"ConnectionParams"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"QueryParams":{"properties":{"query":{"type":"string","title":"Query"}},"type":"object","required":["query"],"title":"QueryParams"},"RestoreParams":{"properties":{"input_file":{"type":"string","title":"Input File"}},"type":"object","required":["input_file"],"title":"RestoreParams"},"TableParams":{"properties":{"table_name":{"type":"string","title":"Table Name"}},"type":"object","required":["table_name"],"title":"TableParams"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}